{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\mc54794\\\\Desktop\\\\books_search_react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\mc54794\\\\Desktop\\\\books_search_react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\mc54794\\\\Desktop\\\\books_search_react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\mc54794\\\\Desktop\\\\books_search_react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\mc54794\\\\Desktop\\\\books_search_react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\mc54794\\\\Desktop\\\\books_search_react\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from\"react\";import Form from\"../components/Form\";import Results from\"../components/Results\";import API from\"../utils/API\";var Search=/*#__PURE__*/function(_React$Component){_inherits(Search,_React$Component);function Search(){var _getPrototypeOf2;var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Search)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={value:\"\",books:[]};_this.makeBook=function(bookData){return{_id:bookData.id,title:bookData.volumeInfo.title,authors:bookData.volumeInfo.authors,description:bookData.volumeInfo.description,image:bookData.volumeInfo.imageLinks.thumbnail,link:bookData.volumeInfo.previewLink};};_this.searchBook=function(query){API.getBook(query).then(function(res){return _this.setState({books:res.data.items.map(function(bookData){return _this.makeBook(bookData);})});}).catch(function(err){return console.error(err);});};_this.handleInputChange=function(event){var name=event.target.name;var value=event.target.value;_this.setState(_defineProperty({},name,value));};_this.handleFormSubmit=function(event){event.preventDefault();_this.searchBook(_this.state.search);};return _this;}_createClass(Search,[{key:\"componentDidMount\",value:function componentDidMount(){this.searchBook();}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(Form,{search:this.state.search,handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit}),React.createElement(\"div\",{className:\"container\"},React.createElement(\"h2\",null,\"Results\"),React.createElement(Results,{books:this.state.books})));}}]);return Search;}(React.Component);export default Search;","map":{"version":3,"sources":["C:/Users/mc54794/Desktop/books_search_react/client/src/pages/Search.js"],"names":["React","Form","Results","API","Search","state","value","books","makeBook","bookData","_id","id","title","volumeInfo","authors","description","image","imageLinks","thumbnail","link","previewLink","searchBook","query","getBook","then","res","setState","data","items","map","catch","err","console","error","handleInputChange","event","name","target","handleFormSubmit","preventDefault","search","Component"],"mappings":"81BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,C,GAEMC,CAAAA,M,2YACFC,K,CAAQ,CACJC,KAAK,CAAE,EADH,CAEJC,KAAK,CAAE,EAFH,C,OASRC,Q,CAAW,SAAAC,QAAQ,CAAI,CACnB,MAAO,CACHC,GAAG,CAAED,QAAQ,CAACE,EADX,CAEHC,KAAK,CAAEH,QAAQ,CAACI,UAAT,CAAoBD,KAFxB,CAGHE,OAAO,CAAEL,QAAQ,CAACI,UAAT,CAAoBC,OAH1B,CAIHC,WAAW,CAAEN,QAAQ,CAACI,UAAT,CAAoBE,WAJ9B,CAKHC,KAAK,CAAEP,QAAQ,CAACI,UAAT,CAAoBI,UAApB,CAA+BC,SALnC,CAMHC,IAAI,CAAEV,QAAQ,CAACI,UAAT,CAAoBO,WANvB,CAAP,CAQH,C,OAEDC,U,CAAa,SAAAC,KAAK,CAAI,CAClBnB,GAAG,CAACoB,OAAJ,CAAYD,KAAZ,EACKE,IADL,CACU,SAAAC,GAAG,QAAI,OAAKC,QAAL,CAAc,CAAEnB,KAAK,CAAEkB,GAAG,CAACE,IAAJ,CAASC,KAAT,CAAeC,GAAf,CAAmB,SAAApB,QAAQ,QAAI,OAAKD,QAAL,CAAcC,QAAd,CAAJ,EAA3B,CAAT,CAAd,CAAJ,EADb,EAEKqB,KAFL,CAEW,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ,EAFd,EAGH,C,OAEDG,iB,CAAoB,SAAAC,KAAK,CAAI,CACzB,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaD,IAA1B,CACA,GAAM9B,CAAAA,KAAK,CAAG6B,KAAK,CAACE,MAAN,CAAa/B,KAA3B,CACA,MAAKoB,QAAL,oBACKU,IADL,CACY9B,KADZ,GAGH,C,OAEDgC,gB,CAAmB,SAAAH,KAAK,CAAI,CACxBA,KAAK,CAACI,cAAN,GACA,MAAKlB,UAAL,CAAgB,MAAKhB,KAAL,CAAWmC,MAA3B,EACH,C,+FAhCmB,CAChB,KAAKnB,UAAL,GACH,C,uCAgCQ,CACL,MACI,gCACI,oBAAC,IAAD,EACI,MAAM,CAAE,KAAKhB,KAAL,CAAWmC,MADvB,CAEI,iBAAiB,CAAE,KAAKN,iBAF5B,CAGI,gBAAgB,CAAE,KAAKI,gBAH3B,EADJ,CAMI,2BAAK,SAAS,CAAC,WAAf,EACI,wCADJ,CAEI,oBAAC,OAAD,EAAS,KAAK,CAAE,KAAKjC,KAAL,CAAWE,KAA3B,EAFJ,CANJ,CADJ,CAaH,C,oBAtDgBP,KAAK,CAACyC,S,EAyD3B,cAAerC,CAAAA,MAAf","sourcesContent":["import React from \"react\";\r\nimport Form from \"../components/Form\";\r\nimport Results from \"../components/Results\";\r\nimport API from \"../utils/API\";\r\n\r\nclass Search extends React.Component {\r\n    state = {\r\n        value: \"\",\r\n        books: []\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.searchBook();\r\n    }\r\n\r\n    makeBook = bookData => {\r\n        return {\r\n            _id: bookData.id,\r\n            title: bookData.volumeInfo.title,\r\n            authors: bookData.volumeInfo.authors,\r\n            description: bookData.volumeInfo.description,\r\n            image: bookData.volumeInfo.imageLinks.thumbnail,\r\n            link: bookData.volumeInfo.previewLink\r\n        }\r\n    }\r\n\r\n    searchBook = query => {\r\n        API.getBook(query)\r\n            .then(res => this.setState({ books: res.data.items.map(bookData => this.makeBook(bookData)) }))\r\n            .catch(err => console.error(err));\r\n    };\r\n\r\n    handleInputChange = event => {\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    handleFormSubmit = event => {\r\n        event.preventDefault();\r\n        this.searchBook(this.state.search);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Form\r\n                    search={this.state.search}\r\n                    handleInputChange={this.handleInputChange}\r\n                    handleFormSubmit={this.handleFormSubmit}\r\n                />\r\n                <div className=\"container\">\r\n                    <h2>Results</h2>\r\n                    <Results books={this.state.books} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}